# 프로젝트 요구사항 명세서

## 1. 기능 요구사항

### 1.1 데이터 수집
- **유튜브 API 연동**
  - YouTube Data API v3를 사용한 데이터 수집
  - API 할당량 관리 및 최적화
  - 에러 처리 및 재시도 로직

- **키워드 기반 검색**
  - 지정된 9개 키워드로 콘텐츠 검색
  - 각 키워드별 조회수 상위 10개 콘텐츠 선정
  - 검색 기간 설정 (일/주/월)

- **수집 데이터 항목**
  - 비디오 ID
  - 제목
  - 설명
  - 조회수
  - 좋아요 수
  - 댓글 수
  - 업로드 날짜
  - 채널명
  - 채널 구독자 수

### 1.2 AI 분석
- **Gemini AI 통합**
  - Google Gemini Pro API 연동
  - 프롬프트 엔지니어링
  - 응답 파싱 및 검증

- **트렌드 분석**
  - 키워드별 인기 콘텐츠 패턴 분석
  - 조회수/참여도 트렌드 파악
  - 콘텐츠 주제 및 형식 분석

- **쇼츠 아이디어 생성**
  - 트렌딩 주제 기반 아이디어
  - 타겟 오디언스 고려
  - 구체적인 콘텐츠 구성 제안

### 1.3 보고서 생성
- **보고서 템플릿**
  - 마크다운 형식
  - 섹션별 구조화
  - 시각적 요소 (차트, 표)

- **보고서 내용**
  - 기간별 트렌드 요약
  - 키워드별 상위 콘텐츠
  - AI 분석 인사이트
  - 쇼츠 제작 추천사항

### 1.4 슬랙 통합
- **Webhook 연동**
  - 슬랙 앱 설정
  - 메시지 포맷팅
  - 첨부 파일 처리

- **알림 설정**
  - 채널 지정
  - 멘션 기능
  - 에러 알림

### 1.5 스케줄링
- **자동 실행**
  - 일일 보고: 평일 오전 10시
  - 주간 보고: 월요일 오전 12시
  - 월간 보고: 매월 첫째주 월요일 오후 2시

- **중복 방지**
  - 실행 로그 관리
  - 중복 체크 로직

## 2. 비기능 요구사항

### 2.1 성능
- API 응답 시간: 30초 이내
- 보고서 생성 시간: 5분 이내
- 동시 처리: 키워드별 병렬 처리

### 2.2 안정성
- 에러 복구: 자동 재시도 (최대 3회)
- 로깅: 상세 로그 기록
- 모니터링: 실행 상태 추적

### 2.3 보안
- API 키 암호화 저장
- 환경 변수 사용
- 접근 권한 관리

### 2.4 확장성
- 모듈화된 구조
- 새 키워드 추가 용이
- 새 플랫폼 추가 가능

## 3. 제약사항

### 3.1 API 제한
- YouTube API: 일일 할당량 10,000 유닛
- Gemini AI: 분당 60 요청
- Slack: 분당 1 메시지

### 3.2 데이터 보관
- 원시 데이터: 90일
- 보고서: 1년
- 로그: 30일

## 4. 인터페이스 요구사항

### 4.1 API 엔드포인트
- `GET /reports/daily` - 일일 보고서 조회
- `GET /reports/weekly` - 주간 보고서 조회
- `GET /reports/monthly` - 월간 보고서 조회
- `POST /reports/generate` - 수동 보고서 생성
- `GET /keywords` - 키워드 목록 조회
- `GET /health` - 시스템 상태 확인

### 4.2 관리자 대시보드
- 실행 이력 조회
- 에러 로그 확인
- 설정 관리
- 수동 실행 트리거

## 5. 개발 환경
- Python 3.11+
- PostgreSQL 15+
- Redis 7+
- Docker & Docker Compose
- GitHub Actions (CI/CD)