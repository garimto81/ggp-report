# 보고서 스케줄 가이드

## 보고서 발송 규칙

### 1. 일일 보고서
- **발송 시간**: 평일 오전 9시 UTC (한국시간 오후 6시)
- **발송 요일**: 월요일~금요일
- **제외 조건**:
  - 주말 (토요일, 일요일)
  - 월요일 (주간 보고서 발송일)
  - 매월 1일 (월간 보고서 발송일)

### 2. 주간 보고서
- **발송 시간**: 매주 월요일 오전 9시 UTC
- **제외 조건**:
  - 월간 보고서가 발송되는 월요일

### 3. 월간 보고서
- **발송 시간**: 매월 1일 오전 9시 UTC
- **특별 규칙**:
  - 1일이 토요일인 경우 → 3일(월요일)에 발송
  - 1일이 일요일인 경우 → 2일(월요일)에 발송
  - 1일이 평일인 경우 → 당일 발송

## 중복 방지 로직

```
매일 오전 9시 실행:
├─ 1일인가?
│  ├─ 예 & 평일 → 월간 보고서만
│  └─ 예 & 주말 → 발송 안함 (월요일로 연기)
├─ 월요일인가?
│  ├─ 예 & 월간 보고서 대기중 → 월간 보고서만
│  └─ 예 & 일반 → 주간 보고서만
├─ 주말인가?
│  └─ 예 → 발송 안함
└─ 평일 → 일일 보고서
```

## 예시 (2024년 기준)

### 1월 (1일이 월요일인 경우)
- 1월 1일(월): 월간 보고서
- 1월 2일(화)~5일(금): 일일 보고서
- 1월 8일(월): 주간 보고서
- ...

### 2월 (1일이 토요일인 경우)
- 2월 1일(토): 발송 안함
- 2월 2일(일): 발송 안함
- 2월 3일(월): 월간 보고서
- 2월 4일(화)~7일(금): 일일 보고서
- 2월 10일(월): 주간 보고서
- ...

## 수동 실행

GitHub Actions에서 수동으로 실행할 때는 중복 체크 없이 선택한 보고서 타입이 즉시 발송됩니다.

## 시간대 설정

UTC 기준으로 설정되어 있으므로 한국 시간 기준으로 변경하려면:

```yaml
schedule:
  - cron: '0 0 * * *'  # 한국시간 오전 9시 = UTC 0시
```