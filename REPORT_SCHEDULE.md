# 보고서 자동 스케줄 가이드

이 시스템은 GitHub Actions를 통해 자동으로 실행되도록 설계되었습니다.

## 현재 스케줄 (한국시간 기준)

- **일일 보고서**: 평일(월-금) 오전 10시 KST
- **주말**: 보고서 없음 (토요일, 일요일 실행 안함)

## 스케줄 정책

### 평일 전용 실행
- **실행 요일**: 월요일 ~ 금요일
- **실행 시간**: 매일 오전 10시 (한국시간)
- **제외 요일**: 토요일, 일요일

### 보고서 발송 규칙:
1. **월요일-금요일**: 일일 보고서 발송
2. **토요일-일요일**: 보고서 없음

### 예시 (2025년 1월):
- 1월 1일 (수): **일일 보고서**
- 1월 2일 (목): **일일 보고서**
- 1월 3일 (금): **일일 보고서**
- 1월 4일 (토): 보고서 없음 ❌
- 1월 5일 (일): 보고서 없음 ❌
- 1월 6일 (월): **일일 보고서**
- 1월 7일 (화): **일일 보고서**
- 1월 8일 (수): **일일 보고서**

## GitHub Actions Cron 설정

`.github/workflows/daily-camera-report.yml`:

```yaml
schedule:
  # 한국시간 오전 10시 = UTC 오전 1시
  - cron: '0 1 * * 1-5'  # 월-금 평일만 실행
```

### Cron 표현식 가이드
```
분 시 일 월 요일
0  1  *  *  1-5  # 평일(월-금) UTC 01:00 (한국시간 10:00)

요일 값:
0 = 일요일
1 = 월요일
2 = 화요일
3 = 수요일
4 = 목요일
5 = 금요일
6 = 토요일
```

### 시간대 변환
- 한국시간(KST) = UTC + 9시간
- 한국시간 오전 10시 = UTC 오전 1시
- 한국시간 오후 6시 = UTC 오전 9시

## 수동 실행

GitHub Actions 페이지에서 언제든지 수동으로 실행 가능:
1. https://github.com/garimto81/ggp-report/actions
2. "Daily Camera Report" 워크플로우 선택
3. "Run workflow" 클릭
4. "Run workflow" 실행

**참고**: 수동 실행 시에는 요일 제한이 적용되지 않으므로 주말에도 실행 가능합니다.

## 보고서 내용

모든 보고서는 카메라 파트 업무만 필터링하여 우선순위별로 정렬:
- 1순위: 긴급 장비 고장/클라이언트 촬영
- 2순위: 예정된 촬영 업무
- 3순위: 장비 관리 및 점검
- 4순위: 영상 편집/후반 작업
- 5순위: 일반 행정 업무

## 발송 대상

모든 보고서는 Slack DM으로 발송:
- 사용자 ID: 환경변수 SLACK_DM_USER_IDS에 설정된 모든 사용자들 (쉼표로 구분)
- 예시: U080BA70DC4,U1234567890,U9876543210